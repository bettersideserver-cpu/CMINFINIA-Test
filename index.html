<!DOCTYPE html>
<html lang="en">

<head>
    <meta name="google-site-verification" content="Tpgine53TlLpp5PWXBi9mNwqn-8pooN50rtk0Zfw0RA" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CM Infinia</title>
    <!-- <meta name="description"
        content="The Lutyens Luxury Flats Project By MDB Group. Offering 3Bhk, 3+1Bhk luxury apartments , Flats, Homes for sale | Download Brochure /"> -->
    <link rel=" stylesheet" href="styles.css">
    <link rel="stylesheet" href="JS/towerpins.css">
    <link rel="stylesheet" href="JS/Notification/ControllerCSS.css">
    <style>
        .mdb {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .pdf-icon {
            width: 50px;
            /* adjust size as needed */
            height: auto;
            object-fit: contain;
        }

        .fallback-text {
            margin-left: 6px;
            font-weight: 600;
            color: white;
        }

        .info-card {
            top: -100px;
            left: -50px;
            position: fixed;
            background-color: transparent;
            /* No blocking layer */
            display: none;
            z-index: 8999;
            pointer-events: none;
            /* ‚ùóÔ∏è This makes whole container non-interactive except children */
            transform: scale(.9);
        }

        @media (max-width: 600px) {
            .Front {
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%) scale(1.8);
            }

            .info-card,
            .info-content {
                transform: scale(0.7);
                top: -50px;
                left: -30px;
            }
        }

        body.splash-active {
            overflow: hidden;
            touch-action: none;
        }

        /* Splash */
        .splash {
            position: fixed;
            inset: 0;
            z-index: 12000;
            display: grid;
            place-items: center;
            pointer-events: auto;
            opacity: 1;
            transition: opacity .6s ease;
            /* smoother fade */
        }

        .splash__backdrop {
            position: absolute;
            inset: 0;
            background: rgba(10, 10, 10, .45);
            /* keep slight tint so blur is visible */
            backdrop-filter: blur(14px);
            /* -webkit-backdrop-filter: blur(14px); */
        }

        /* CONTENT: no box, no background */
        .splash__content {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            padding: 0;
            /* no padding box */
            background: transparent;
            /* no box */
            border-radius: 0;
            /* no rounded box */
            box-shadow: none;
            /* no shadow box */
            transform: translateY(8px);
            animation: splash-pop .5s ease forwards;
            pointer-events: none;
        }

        .splash__logo {
            width: 300px;
            /* bigger logo */
            height: auto;
            /* keep aspect */
            object-fit: contain;
            filter: drop-shadow(0 4px 10px rgba(0, 0, 0, .15));
            filter: brightness(1.3) drop-shadow(0 4px 10px rgba(0, 0, 0, .15));
            /* filter:
                brightness(1.3) contrast(1.1) drop-shadow(0 0 3px rgba(255, 255, 255, 0.35)) drop-shadow(0 0 6px rgba(255, 255, 255, 0.25)) drop-shadow(0 0 10px rgba(255, 255, 255, 0.15)); */
        }

        .splash__text {
            font: 600 18px/1.2 system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
            color: #fff;
            letter-spacing: .2px;
            opacity: .95;
            text-shadow: 0 1px 2px rgba(0, 0, 0, .35);
        }

        @keyframes splash-pop {
            from {
                opacity: 0;
                transform: translateY(16px) scale(.98);
            }

            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }

        /* Fades whole overlay out */
        .splash.is-hidden {
            opacity: 0;
        }

        @media (prefers-reduced-motion: reduce) {
            .splash__content {
                animation: none;
                transform: none;
            }

            .splash {
                transition: opacity .2s linear;
            }
        }
    </style>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-TNGY9BHWQ8"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-TNGY9BHWQ8');
    </script>
</head>

<body>
    <!-- Splash / Welcome Overlay -->
    <div id="splash" class="splash" aria-live="polite" role="status">
        <div class="splash__backdrop"></div>
        <div class="splash__content" role="img" aria-label="Powered by BetterSide">
            <div class="splash__text">Powered by <strong>BetterSide.in</strong></div>
        </div>
    </div>
    <!-- Quick interaction hint (appears for ~2‚Äì3s) -->
    <div id="ui-hint" class="ui-hint" aria-live="polite" role="status">
        <!-- shown on mouse/trackpad devices -->
        <div class="ui-hint__row ui-hint__desktop">
            <!-- mouse icon (inline SVG) -->
            <svg width="18" height="24" viewBox="0 0 18 24" aria-hidden="true">
                <path d="M9 1c3.9 0 7 3.1 7 7v8c0 3.9-3.1 7-7 7s-7-3.1-7-7V8c0-3.9 3.1-7 7-7z" fill="white"
                    opacity=".18" />
                <rect x="8" y="4" width="2" height="5" rx="1" fill="white" />
                <rect x="5" y="10" width="8" height="9" rx="4" fill="white" opacity=".4" />
            </svg>
            <span>Click Tower's to Select Floors</span>
        </div>

        <!-- shown on touch devices -->
        <div class="ui-hint__row ui-hint__touch">
            <!-- finger icon (inline SVG) -->
            <svg width="18" height="24" viewBox="0 0 24 24" aria-hidden="true">
                <path
                    d="M12 2a4 4 0 014 4v4h1.2a2.8 2.8 0 012.8 2.8V16c0 3.3-2.7 6-6 6H9.5A5.5 5.5 0 014 16.5V11a3 3 0 016 0v3h1V6a4 4 0 011-2.7z"
                    fill="white" opacity=".28" />
                <rect x="11" y="5" width="2" height="9" rx="1" fill="white" />
            </svg>
            <span>Click on Tower's To Select Floor</span>
        </div>
    </div>


    <!-- <div class="context-chip" id="projectTag" aria-hidden="true">
        <div class="mdb">
            <img src="images/Thumbnail/MDB-logo.png" alt="MDB Logo" class="pdf-icon"
                onload="this.nextElementSibling.style.display='none'" />
            <span class="fallback-text">MDB</span>
        </div>
        <div class="lutyen">Lutyen Residence</div>
    </div> -->





    <!-- Info Card Modal -->
    <div id="infoCard" class="info-card">
        <div class="info-content">

            <h2 id="modalTitle">Tower_A</h2>

            <div class="image-placeholder">
                <img src="images/Thumbnail/Tower_A-B.webp" alt="Tower A" />
            </div>
            <div class="info-details" id="details"></div>
            <button class="explore-btn" id="navigateButton">Explore</button>
        </div>
    </div>


    <div class="Front">
        <div class="image-wrapper">
            <link rel="preload" as="image" href="images/Home.jpg" />

            <img id="mainImage" src="images/Thumbnail/Home_Low.webp" data-full="images/Home.jpg" alt="Home"
                fetchpriority="high" decoding="async" width="3840" height="5830" class="blur-up" />
            <div class="Cutout">
                <!-- <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 3840 5830">
                    <path id="Tower_A" data-link="Tower_A.html" data-name="Tower_A"
                        data-img="images/Thumbnail/Tower_A.jpg"
                        d="m693.2 2402 46.7 22.7 16.2 812.4 19.8 13.1v26.2l-29.5 13.8 109.1 57.7 165.1-65.1 5.3 3.3 43.3-16.7-.7-9.9-2.2-.2-.4-21.8 9-4.4v10.3l7.2-2.2-1.2-10.8 33.8-14.1-.6 11.1 6.9-2-1.1-11.2 50.8-21.3v9.5l7.4-1.3-1-9.9 52.8-22.6v9.6l7.5-1.4-.3-11.6 31.4-12.9.8 9.4 6.2-1v-11.4l26.7-10.8v10.3l6.9-1.2v-11.8l4.4-.4-1.2 15.2 20.2 7.8 39.7-14.8-1.3-34.6 101.9-42 .4 8.8 6.5-.3v-11.1l52.1-21.5.6 9.2 7.3-1.5v-10.8l29.3-12.4v9.2l7.3-1.2v-10.9l26.5-11.2v9.1l5.6-.3v-11l4.9-3.9-.8 18.9 17.4 8.2 42.2-18.5-.4-9.4-2.1-.2.3-21.4 10-3.3-1.1 9.1 6.5-1.9-1.3-9.8 31.6-12.8-.4 9.1 6.7-1.2v-10.1l77.2-33.3V2294l-110.9-70 .1-77.9 73.8-30.8-48.7-35.2-112.6-53.2-862.5 340.4z"
                        class="st0" />
                    <path id="Tower_B" data-link="Tower_B.html" data-name="Tower_B"
                        data-img="images/Thumbnail/Tower_B.jpg"
                        d="m2025.4 2345.6-55.1 33.2 52 24.7v36.6l-52.8 22.7 6.3 3.8-.6 8.2-5.2 1v3.9l6 1.2-2.7 82.1-56.8-23.5-10.7 2-1.8-6.3-7.7-.3v-3.5l.8-3.8-1.8-1.3-2.8-5.3v-3.3s-3.7-1.3-4.3-1.7c-.7-.3-6.5-5.5-6.5-5.5l-6.8 2-6.5 4-3.2 4v6.8l-5.8 6.3-4.8 8.3-4 6.2-6.7 6.5v16.8l-4.5 1.3v4.5h-5.5l-1.3 3.7 2.7 646.7 18.6 9.8-.1 15.2 9.6-.5.2-9.9 43.6 23.5-.4 14.4 9.5-3-.1-8.2 30.3 14.6 29.2-12.4-2 31 35.9 18.1-.4-6.2 45.6 22.8-.7 13.8h9.4l1.4-9 43.9 21.2-1.4 15.8 9.3-3 1.1-7.2 37.4 19-.8 14.6 5 1.3 1-13.8 48.5 23.6v14.4h8.8l.4-10.1 4.6 2.6-.2 10.3 3.1.6v-10.3l7.1 5-.7 10.9h8.3l-1.7-9.1 10.9 5.3 29.7-12.4-2.2 31.3 82 35.9-.3 14.4 9.9-.8.9-9.7 44.8 23.9-.7 15.3 7-3.4.4-9.3 40.7 20.6.6 16.3 8.9-3.8-.8-8.3 45.3 22.6v15.9l9.9-4-1-7.7s32 16.1 32.4 16.1 30.7-13.6 30.7-13.6l-1.9 32.6 36.1 17.6v-4.6l46.7 23.3 1.2 15.8 9.2-2.3.4-8.3 49.3 23.6.4-11.3-3.3-6.7-8-4.4-.6-3.9 9-3.1.7-3.8-1.7-5.8 4.8-4.5 2-3.8 8.9-4.6s13.9 4 14.2 4 6.8 1.7 6.8 1.7l198.1-88.1v-4.7l4.4-8.2 7.3-3.6 9.8 2.9 8-1.3 16-6 13.2-646.8v-2.7l4.3-9.2s-3.5-4.7-4-5-4.8-2.3-4.8-2.3l-5.3-4.3-5.5-3.5s-9.7-4.3-10.5-4.3-1.8-.5-4.7-.8c-2.8-.3-4.2-5.5-4.2-5.5l-9.5-2-11.8-11-17.5-3-7.3 2.3s-6-6.5-6.8-6.5-12.2 8.7-12.2 8.7-11.7 5.2-12.5 5.2-2.3 8.5-2.3 8.5l-29.7-9.3-3-5.5-1.7-5.8-.5-121.3 4.8-2.2-.7-3.6-4.2-.5v-8.4h3.8l2.2-6.9 5.9-5.6-46.7-33.8 5.8-2.4v-5.6l-706.4-325.1-110.7 45.4z"
                        class="st0" />
                </svg> -->
                <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" viewBox="0 0 3840 5830">
                    <path id="Tower_C" data-link="Tower_C.html" data-name="Tower_E-F"
                        data-img="images/Thumbnail/Tower_C.jpg"
                        d="m1587.44 2135.33-46 26-38-13h-14.5l-66.67 36.83 5.17 2.5-6.33 2.17 1.17 38.83-105.17 60.33-49.33-16.33-77 40.5 1.83 45.33-50.83 27v9.33l2.33 1.33 1.17 37.5-29.33 21.83-1.33 17.83 14.67 4.83-12.39 12.89-.44 11.89 17.33 5.11.11 2.11-17.44 13 1.33 11.78 17.33 6.22-1.33 3.11-14 10.78-1.78 12.11 17.67 6.44-.11 2.67-14.78 10.67-.44 12.33 17.44 7.44-.22 2.56-14.22 10.78-1.22 12.22 16.44 6.78-.56 3.56-14.78 9.78.33 13.89 17.33 4.78-.56 2.22-15.11 10.78-.22 13.56 16.56 6.11-2.78 3.89-11.56 8.56-1.56 13.22 17.33 6.11-.33 3.56-15 9.78-.78 12.78 17.44 6-.44 2.56-16.33 11.44.22 11.56 18.22 7.11-14.44 12.67-1.78 11.78 17.44 6.67-15.44 12.78-1.22 11.89 16.44 8.44-13.78 10.78-1.33 12.78 17.78 6.67-18.33 16.89-2.67 6 21.56 9.22-14.78 12.56-1.44 12.89 17.89 5.56s-15.44 14.56-15.56 14.89-.22 9.44-.22 9.44l17.11 7.78-16.11 12.56-.22 12.22 18.44 6.67-15.11 11.44-1.89 12 18 6.67-16 12.67-.89 12.44 18 5.67-14.89 12.11-.89 13.22 15.67 6.11-16.89 12 .89 11 16.33 7.56-12.89 13.22-1 11.67 16.22 6.22-14.11 10.11-1.56 13.67 17 7.11-13.33 10.44-2.33 13.44 15.78 6.56-19.67 17.89-1.11 13.67 14.78 5.44-13.56 12.67-.67 11.89 16.89 6-14.22 12.44-.11 11.22 14.11 6.33-12.44 9.44-.78 15.11 14.11 5.11-10.67 9-2.67 16 14.22 5.33-12.11 10.22-.56 14.78 12.56 4.44-11 14.67-.56 10 14.11 6.33-10.67 12.56-2 10.33 14.44 7.22-12.22 9.11-1.44 14.11 16.78 6.44-13.56 11.22-.28 12.33 162.11 67.89 107.28-56.94 334.78-249.67-21.33-1112-148.56-52Z"
                        class="st0" />
                    <path id="Tower_B" data-link="Tower_B.html" data-name="Tower_C-D"
                        data-img="images/Thumbnail/Tower_B.jpg"
                        d="m2149.11 2146.78-127.33 42.89-1.11 41.11-55.78 18.44-7.06 1034.67-89.55-45.17-110.95 60.61-21.33-1112-148.56-52 52.34-28.77v-41.78l33.78-19.78 6.44 1.33 7.33-4.22 45.11 13.78 87.34-52 131.33 41.11-28.22 14.44 53.78 16.23 42.66-11.78 103.34 64.89-1.78 8.66 10.89-3.55z"
                        class="st0" />
                    <path id="Tower_A" data-link="Tower_A.html" data-name="Tower_A-B"
                        data-img="images/Thumbnail/Tower_A.jpg"
                        d="m2576 2464.17-18.83 6.66 17 12.17v10.67l-18.17 7.83 16.17 13.33.83 13.34-19 4.5 17.33 14 1 11.83-18 7.5 16 12 2 14.67-18.16 5.33 15.16 16 .84 11.17-17.67 6.5 16.5 15v11.16l-17.17 5 15.5 14.5.84 12.17-17.17 6.5 14.83 12.83 1 12.34-17.5 5.66 15.5 14.5v12.5l-15.83 5.5 14.33 13.17 1.5 13.83-16 6.17 14.84 12.83v12.5l-17.34 4.67 15.67 15.67.83 12.16-18.5 4.5 17 14.67-.83 11.33-18.5 5.5 17 13.5 1.5 12.34-17.5 6.33 15 13.33v11.84l-16.17 6 15.17 12.66 1 12.17-17.67 6.17 15.67 12.16 2 12.67-17.67 7.5 15.67 12.5v11.5l-16.67 7.67 14.34 12.33 1.5 11-15.67 7.33 13.5 9.84 2.17 13.66-18.67 5.67 15.33 10.5.17 14.33-16.17 7.34 16.5 11.5v12l-17.66 6.66 14.83 12.5 2 10.84-15.5 8.5 12.83 10.5 1.67 12.83-15.17 6.17 18.84 17.83 1 12.67-11.67 6.83 11 10.67v14l-16.5 6.16 13.5 10.17 1.67 12.33-16.5 6.84 17.83 13.5-1.5 10-17.67 7.5 15 10 .67 13.83-14.17 5.33 12.67 10V3410l-14.67 6.83 14.67 10.84v11.83l-13.33 6 12.33 11.17v13l-14.67 6.5 12.39 12.33v11l-14.55 6 14.55 10v12.56l-78.22 30.66-6-3.78-56.22 21.78v4.22l-26.34 10.12c-166.63-110.5-318.72-214.66-423-298l1.39-9.17 7.06-1034.67 55.78-18.44 1.11-41.11 127.33-42.89 14.17 6.22 41.89-13.22 3.89 2.55 8.44-3.11 63.11 39.34-1.89 40.77 101.56 60.67 42-12.78 3.66 1.89 7.23-2.67 68.66 40.67-2.83 41.22 51.17 30.5v9.34l-2.67.5V2423l28.5 27.17z"
                        class="st0" />
                </svg>
                <!-- New: overlay that sits exactly on top of the image -->

            </div>
        </div>
    </div>
    <!-- Hotspot overlay (empty container, JS will size/position it) -->
    <div class="hs-layer" id="hsLayer">
        <!-- Example hotspots: use % relative to the image -->
        <button class="hs-dot" style="top:66%; left:46%;" onclick="location.href='SubPages/GodEye/BasketBall.html'">
            <img src="images/360_img.png" alt="BasketBall">
        </button>

        <button class="hs-dot" style="top:66%; left:46%;" onclick="location.href='SubPages/GodEye/CricketArea.html'">
            <img src="images/360_img.png" alt="CricketArea">
        </button>

        <button class="hs-dot" style="top:61.4%; left:48%;" onclick="location.href='SubPages/GodEye/Garden.html'">
            <img src="images/360_img.png" alt="Garden">
        </button>

        <button class="hs-dot" style="top:63.8%; left:38.5%;" onclick="location.href='SubPages/GodEye/KidArea.html'">
            <img src="images/360_img.png" alt="KidArea">
        </button>

        <button class="hs-dot" style="top:62.5%; left:32.5%;" onclick="location.href='SubPages/GodEye/PetArea.html'">
            <img src="images/360_img.png" alt="Commercial">
        </button>

        <button class="hs-dot" style="top:63.6%; left:52%;" onclick="location.href='SubPages/GodEye/SidePark.html'">
            <img src="images/360_img.png" alt="Commercial">
        </button>
    </div>
    <!-- Bottom Center Panel -->
    <nav class="jumpbar" role="navigation" aria-label="Quick jumps">
        <div class="jumpbar-inner">
            <button class="jumpchip" onclick="location.href='SubPages/GodEye/Garden.html'">Garden</button>
            <button class="jumpchip" onclick="location.href='SubPages/GodEye/SidePark.html'">Side Park</button>
            <button class="jumpchip" onclick="location.href='SubPages/GodEye/CricketArea.html'">Cricket Pitch</button>
            <button class="jumpchip" onclick="location.href='SubPages/GodEye/BasketBall.html'">BasketBall Area</button>
            <button class="jumpchip" onclick="location.href='SubPages/GodEye/KidArea.html'">Kid Area</button>
            <button class="jumpchip" onclick="location.href='SubPages/GodEye/PetArea.html'">Pet Area</button>
            <button class="jumpchip" onclick="location.href='SubPages/GodEye/Commercial.html'">Club House</button>
            <button class="jumpchip" onclick="location.href='SubPages/Tower_A.html'">Tower A-B</button>
            <button class="jumpchip" onclick="location.href='SubPages/Tower_B.html'">Tower C-D</button>
            <button class="jumpchip" onclick="location.href='SubPages/Tower_C.html'">Tower E-F</button>
            <button class="jumpchip" onclick="location.href='SubPages/Tower_Mall.html'">Commercial</button>
            <!-- add more as you like -->
        </div>
    </nav>

    <script src="JS/TowerPins.js"></script>
    <script>
        window.addEventListener('DOMContentLoaded', () => {
            const paths = document.querySelectorAll('.Cutout path');
            const modal = document.getElementById('infoCard');
            const modalTitle = document.getElementById('modalTitle');
            const modalButton = document.getElementById('navigateButton');
            const imagePlaceholder = document.querySelector('.image-placeholder img');

            let selectedPath = null;
            let currentLink = '';

            // Handle path clicks
            paths.forEach(path => {
                const link = path.getAttribute('data-link');
                const name = path.getAttribute('data-name') || 'Building Info';

                if (link) {
                    path.addEventListener('click', (e) => {
                        e.stopPropagation();

                        // Deselect previously selected path
                        if (selectedPath && selectedPath !== path) {
                            selectedPath.classList.remove('selected');
                        }

                        selectedPath = path;
                        selectedPath.classList.add('selected');

                        // Update modal info
                        currentLink = `SubPages/${link}`;
                        modalTitle.textContent = name;

                        // üîπ Load image dynamically based on data-name
                        const imagePath = `images/Thumbnail/${name}.webp`; // Example: images/Tower_A.jpg
                        imagePlaceholder.src = imagePath;
                        imagePlaceholder.alt = name;

                        // Show modal
                        modal.style.display = 'flex';
                    });
                }
            });

            // Navigate button click
            modalButton.addEventListener('click', () => {
                if (currentLink) {
                    window.location.href = currentLink;
                }
            });

            // Click outside modal to close
            document.addEventListener('click', (e) => {
                const isPath = e.target.closest('path');
                const isModal = e.target.closest('.info-content');
                if (!isPath && !isModal) {
                    modal.style.display = 'none';
                    if (selectedPath) {
                        selectedPath.classList.remove('selected');
                        selectedPath = null;
                    }
                    currentLink = '';
                    modalTitle.textContent = '~';
                }
            });
        });
    </script>



    <script>
        (function () {
            const img = document.querySelector('.image-wrapper img');
            const layer = document.getElementById('hsLayer');
            if (!img || !layer) return;

            // Read the actual on-screen rectangle of the image and pin the overlay to it
            function doSync() {
                const r = img.getBoundingClientRect();
                layer.style.top = r.top + 'px';
                layer.style.left = r.left + 'px';
                layer.style.width = r.width + 'px';
                layer.style.height = r.height + 'px';
            }

            // Run the sync AFTER layout has fully settled
            function syncAfterLayout() {
                requestAnimationFrame(() => requestAnimationFrame(doSync));
            }

            // Initial syncs
            if (img.complete) syncAfterLayout();
            else img.addEventListener('load', syncAfterLayout, { once: true });
            window.addEventListener('load', syncAfterLayout, { once: true });

            // On resize / orientation
            window.addEventListener('resize', syncAfterLayout);
            window.addEventListener('orientationchange', () => {
                syncAfterLayout();
                // extra pass for mobile browsers that "settle" a moment later
                setTimeout(syncAfterLayout, 250);
            });

            // On aspect-ratio media query flips
            const mqPortrait = window.matchMedia('(max-aspect-ratio: 3840/5830)');
            const mqLandscape = window.matchMedia('(min-aspect-ratio: 3840/5830)');
            if (mqPortrait.addEventListener) {
                mqPortrait.addEventListener('change', syncAfterLayout);
                mqLandscape.addEventListener('change', syncAfterLayout);
            } else if (mqPortrait.addListener) { // Safari <14
                mqPortrait.addListener(syncAfterLayout);
                mqLandscape.addListener(syncAfterLayout);
            }

            // Watch the image box itself
            if ('ResizeObserver' in window) {
                new ResizeObserver(syncAfterLayout).observe(img);
            }
        })();
    </script>
    <script src="JS/Notification/Controller.js"></script>



    <script>
        window.addEventListener('DOMContentLoaded', () => {
            const mq = window.matchMedia('(max-width: 600px)');

            const desktopPositions = {
                Tower_A: { left: 61, top: 50 },
                Tower_B: { left: 48, top: 48 },
                Tower_C: { left: 35, top: 50 }
            };
            const mobilePositions = {
                Tower_A: { left: 61, top: 50 },
                Tower_B: { left: 48.5, top: 48 },
                Tower_C: { left: 35, top: 50 }
            };

            function runPins() {
                initTowerPins({
                    svgSelector: '.Cutout svg',
                    layerSelector: '#hsLayer',
                    viewBox: [3840, 5830],
                    positions: mq.matches ? mobilePositions : desktopPositions
                });
            }

            runPins();                   // initial
            mq.addEventListener?.('change', runPins);
            // Safari fallback:
            if (!mq.addEventListener) mq.addListener(runPins);

            // Also re-run after your image/layer sync settles (optional but safer)
            window.addEventListener('resize', () => requestAnimationFrame(runPins));
            window.addEventListener('orientationchange', () => setTimeout(runPins, 250));
        });
    </script>



    <script>
        window.addEventListener('DOMContentLoaded', () => {
            const paths = document.querySelectorAll('.Cutout path');
            const infoCard = document.getElementById('infoCard');
            const modalTitle = document.getElementById('modalTitle');
            const modalButton = document.getElementById('navigateButton');
            const detailsEl = document.getElementById('details');          // optional details container
            const imgEl = document.querySelector('.image-placeholder img'); // if you show an image

            let selectedPath = null;
            let currentLink = '';

            // 1) Configure content for each tower here
            const INFO = {
                Tower_A: {
                    title: 'Tower A-B',
                    lowImg: 'images/Thumbnail/Icon/Tower_A.webp',
                    img: 'images/Thumbnail/Icon/Tower_A.jpg',
                    link: 'SubPages/Tower_A.html',
                    detailsHTML: `
          <div><strong>Total Units:</strong> 128 </div>
          <div><strong>Per Tower Units:</strong> 64 </div>
          <div><strong>Area:</strong>4600 sq.ft.</div>
          <div><strong>Penthouse:</strong>2</div>
          <div><strong>Area:</strong>14000 sq.ft.</div>
        `
                },
                Tower_B: {
                    title: 'Tower C-D',
                    lowImg: 'images/Thumbnail/Icon/Tower_B.webp',
                    img: 'images/Thumbnail/Icon/Tower_B.jpg',
                    link: 'SubPages/Tower_B.html',
                    detailsHTML: `
          <div><strong>Total Units:</strong> 96 </div>
          <div><strong>Per Tower Units:</strong> C-32 : D-64</div>
          <div><strong>C Area:</strong>4800 sq.ft.</div>
          <div><strong>D Area:</strong>6300 sq.ft.</div>
          <div><strong>Penthouse:</strong>C-1 : D-2</div>
          <div><strong>C Area:</strong>15000 sq.ft.</div>
          <div><strong>D Area:</strong>17000 sq.ft.</div>
        `
                },
                Tower_C: {
                    title: 'Tower E-F',
                    lowImg: 'images/Thumbnail/Icon/Tower_C.webp',
                    img: 'images/Thumbnail/Icon/Tower_C.jpg',
                    link: 'SubPages/Tower_C.html',
                    detailsHTML: `
          <div><strong>Total Units:</strong> 128 </div>
          <div><strong>Per Tower Units:</strong> 64 </div>
          <div><strong>Area:</strong>4600 sq.ft.</div>
          <div><strong>Penthouse:</strong>2</div>
          <div><strong>Area:</strong>14000 sq.ft.</div>
        `
                }
            };

            function setExploreState(hasLink) {
                if (!modalButton) return;
                modalButton.disabled = !hasLink;
                modalButton.style.opacity = hasLink ? '1' : '0.6';
                modalButton.style.pointerEvents = hasLink ? 'auto' : 'none';
                modalButton.title = hasLink ? '' : 'No page linked';
            }
            // scoped only to this script (modal image)
            function swapModalImage(imgEl, highSrc, lowSrc) {
                if (!imgEl || !highSrc) return;

                // optional low-res (fallback to placeholder if not provided)
                if (lowSrc) {
                    imgEl.src = lowSrc;
                }

                imgEl.classList.remove('is-loaded');   // reset blur state if reused
                imgEl.classList.add('blur-up');        // ensure blur-up style is applied

                const hi = new Image();
                hi.decoding = 'async';
                hi.src = highSrc;

                const done = () => {
                    imgEl.src = highSrc;
                    imgEl.classList.add('is-loaded');
                };

                if (typeof hi.decode === 'function') {
                    hi.decode().then(done).catch(done);
                } else {
                    hi.onload = done;
                    hi.onerror = done;
                }
            }

            // if you have a consistent low-res naming: file.ext -> file_Low.webp
            function toLowResPath(fullPath) {
                // tweak to match your actual low-res naming or return null to skip
                return fullPath.replace(/(\.\w+)$/, '_Low.webp');
            }

            function render(info) {
                // Title
                modalTitle.textContent = info.title || '~';

                // Image (only modal image is affected)
                if (imgEl && info.img) {
                    const high = info.img;
                    const low = toLowResPath(high); // or set to null if you don't keep _Low.webp files
                    imgEl.alt = info.title;
                    swapModalImage(imgEl, high, low);
                }

                // Details
                if (detailsEl) {
                    detailsEl.innerHTML = info.detailsHTML || '';
                }

                // Link
                currentLink = info.link || '';
                setExploreState(!!currentLink);

                // Show card
                infoCard.style.display = 'flex';
            }
            const KEY_MAP = {
                "Tower_E-F": "Tower_C",
                "Tower_C-D": "Tower_B",
                "Tower_A-B": "Tower_A"
            };


            // 2) Wire up just the two paths
            paths.forEach(path => {
                path.addEventListener('click', (e) => {
                    e.stopPropagation();

                    // which tower?
                    const key = (path.getAttribute('data-name') || path.id || '').trim();
                    const normalizedKey = KEY_MAP[key] || key;
                    const info = INFO[normalizedKey];

                    if (!info) return; // ignore any other paths

                    // selection styling
                    if (selectedPath && selectedPath !== path) selectedPath.classList.remove('selected');
                    path.classList.add('selected');
                    selectedPath = path;

                    render(info);
                });
            });

            // Explore -> navigate
            modalButton?.addEventListener('click', () => {
                if (currentLink) window.location.href = currentLink;
            });

            // Click outside -> close
            document.addEventListener('click', (e) => {
                const isPath = e.target.closest('path');
                const isModal = e.target.closest('.info-content');
                if (!isPath && !isModal) {
                    infoCard.style.display = 'none';
                    if (selectedPath) selectedPath.classList.remove('selected');
                    selectedPath = null;
                    currentLink = '';
                    modalTitle.textContent = '~';
                    setExploreState(false);
                }
            });
        });
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const splash = document.getElementById("splash");
            if (!splash) return;

            // lock scroll while splash is visible
            document.body.classList.add("splash-active");

            // how long splash shows (ms)
            const SHOW_MS = 2000;
            const FADE_MS = 600; // must match CSS transition

            setTimeout(() => {
                // start fade-out
                splash.classList.add("is-hidden");

                // after fade, remove overlay and unlock scroll
                setTimeout(() => {
                    splash.remove();
                    document.body.classList.remove("splash-active");
                }, FADE_MS);
            }, SHOW_MS);
        });
    </script>




    <script src="JS/Image_Loader.js"></script>



    <script src="JS/Disbale-Inspect.js"></script>
</body>

</html>